{"filter":false,"title":"seed-orderdb.js","tooltip":"/order-app/populate-db/seed-orderdb.js","ace":{"folds":[],"scrolltop":0,"scrollleft":0,"selection":{"start":{"row":2,"column":6},"end":{"row":2,"column":9},"isBackwards":true},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":0},"hash":"a17dfba752fd8fd8297f914487883bb4cc4c71ed","mime":"application/javascript","undoManager":{"mark":9,"position":9,"stack":[[{"start":{"row":0,"column":0},"end":{"row":73,"column":0},"action":"insert","lines":["'use strict'","const uuid = require('node-uuid');","const AWS = require('aws-sdk');","","const region = process.env.AWS_REGION; // It reads the env. variable","AWS.config.update({ region: region});","","const ordersTable = 'order-table';","","const getCurrentDate = () => {","    let date_ob = new Date();","    let date = (\"0\" + date_ob.getDate()).slice(-2);","    let month = (\"0\" + (date_ob.getMonth() + 1)).slice(-2);","    let year = date_ob.getFullYear();","    let hours = date_ob.getHours();","    let minutes = date_ob.getMinutes();","    let seconds = date_ob.getSeconds();","    ","    return year + \"-\" + month + \"-\" + date + \"T\" + hours + \":\" + minutes + \":\" + seconds;","}","","","async function initData(dynamoDb) {","    let formattedDateNow = getCurrentDate();","","    let order1 = {};","    order1.user_id = \"static_user\";","    order1.id = uuid.v4();","    order1.restaurantId = 'Restaurant 1';","    order1.name= \"Doner Kebap\"","    order1.orderStatus = \"PENDING\";","    order1.createdAt = formattedDateNow.toString();","    order1.quantity = 2;","    try{","        await dynamoDb.put({ Item: order1, TableName: ordersTable }).promise();","    }catch(err){","        console.log(err);","    }","","    let order2 = {};","    order2.user_id = \"static_user\";","    order2.id = uuid.v4();","    order2.restaurantId = 'Restaurant 1';","    order2.name= \"Spaghetti\"","    order2.orderStatus = \"PENDING\";","    order2.createdAt = formattedDateNow.toString();","    order2.quantity = 3;","    try{","        await dynamoDb.put({ Item: order2,TableName: ordersTable }).promise(); ","    }catch(err){","        console.log(err);","    }","   ","","    let order3 = {};","    order3.user_id = \"static_user\";","    order3.id = uuid.v4();","    order3.restaurantId = 'Restaurant 2';","    order3.name= \"Beef\"","    order3.orderStatus = \"PENDING\";","    order3.createdAt = formattedDateNow.toString();","    order3.quantity = 2;","    try{","        await dynamoDb.put({ Item: order3, TableName: ordersTable}).promise();","    }catch(err){","        console.log(err);","    }","}","","const dynamoDb = new AWS.DynamoDB.DocumentClient();","initData(dynamoDb);","console.log('Done seeding Order table with sample Orders');","",""],"id":1}],[{"start":{"row":5,"column":34},"end":{"row":5,"column":35},"action":"insert","lines":[","],"id":2}],[{"start":{"row":5,"column":35},"end":{"row":5,"column":36},"action":"insert","lines":[" "],"id":3},{"start":{"row":5,"column":36},"end":{"row":5,"column":37},"action":"insert","lines":["v"]},{"start":{"row":5,"column":37},"end":{"row":5,"column":38},"action":"insert","lines":["e"]},{"start":{"row":5,"column":38},"end":{"row":5,"column":39},"action":"insert","lines":["r"]}],[{"start":{"row":5,"column":39},"end":{"row":5,"column":40},"action":"insert","lines":["s"],"id":4},{"start":{"row":5,"column":40},"end":{"row":5,"column":41},"action":"insert","lines":["i"]},{"start":{"row":5,"column":41},"end":{"row":5,"column":42},"action":"insert","lines":["o"]},{"start":{"row":5,"column":42},"end":{"row":5,"column":43},"action":"insert","lines":["n"]}],[{"start":{"row":5,"column":43},"end":{"row":5,"column":44},"action":"insert","lines":[":"],"id":5}],[{"start":{"row":5,"column":44},"end":{"row":5,"column":45},"action":"insert","lines":[" "],"id":6}],[{"start":{"row":5,"column":45},"end":{"row":5,"column":47},"action":"insert","lines":["\"\""],"id":7}],[{"start":{"row":5,"column":46},"end":{"row":5,"column":47},"action":"insert","lines":["v"],"id":8},{"start":{"row":5,"column":47},"end":{"row":5,"column":48},"action":"insert","lines":["3"]}],[{"start":{"row":2,"column":30},"end":{"row":8,"column":45},"action":"insert","lines":[",","      {","          DynamoDBDocument","      } = require(\"@aws-sdk/lib-dynamodb\"),","      {","          DynamoDB","      } = require(\"@aws-sdk/client-dynamodb\")"],"id":9,"ignore":true},{"start":{"row":40,"column":68},"end":{"row":40,"column":78},"action":"remove","lines":[".promise()"]},{"start":{"row":54,"column":67},"end":{"row":54,"column":77},"action":"remove","lines":[".promise()"]},{"start":{"row":69,"column":67},"end":{"row":69,"column":77},"action":"remove","lines":[".promise()"]},{"start":{"row":75,"column":17},"end":{"row":75,"column":25},"action":"remove","lines":["new AWS."]},{"start":{"row":75,"column":25},"end":{"row":75,"column":26},"action":"remove","lines":["."]},{"start":{"row":75,"column":33},"end":{"row":75,"column":40},"action":"remove","lines":["Client("]},{"start":{"row":75,"column":33},"end":{"row":75,"column":53},"action":"insert","lines":[".from(new DynamoDB()"]}],[{"start":{"row":11,"column":47},"end":{"row":11,"column":48},"action":"remove","lines":["3"],"id":10},{"start":{"row":11,"column":46},"end":{"row":11,"column":47},"action":"remove","lines":["v"]},{"start":{"row":11,"column":45},"end":{"row":11,"column":47},"action":"remove","lines":["\"\""]},{"start":{"row":11,"column":44},"end":{"row":11,"column":45},"action":"remove","lines":[" "]},{"start":{"row":11,"column":43},"end":{"row":11,"column":44},"action":"remove","lines":[":"]},{"start":{"row":11,"column":42},"end":{"row":11,"column":43},"action":"remove","lines":["n"]},{"start":{"row":11,"column":41},"end":{"row":11,"column":42},"action":"remove","lines":["o"]},{"start":{"row":11,"column":40},"end":{"row":11,"column":41},"action":"remove","lines":["i"]},{"start":{"row":11,"column":39},"end":{"row":11,"column":40},"action":"remove","lines":["s"]},{"start":{"row":11,"column":38},"end":{"row":11,"column":39},"action":"remove","lines":["r"]},{"start":{"row":11,"column":37},"end":{"row":11,"column":38},"action":"remove","lines":["e"]},{"start":{"row":11,"column":36},"end":{"row":11,"column":37},"action":"remove","lines":["v"]},{"start":{"row":11,"column":35},"end":{"row":11,"column":36},"action":"remove","lines":[" "]},{"start":{"row":11,"column":34},"end":{"row":11,"column":35},"action":"remove","lines":[","]}]]},"timestamp":1687378218552}